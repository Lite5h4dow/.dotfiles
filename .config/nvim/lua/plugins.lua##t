local fn = vim.fn
local g = vim.g

-- Packer Boostrap 
local install_path = fn.stdpath('data')..'/site/pack/packer/start/packer.nvim'
if fn.empty(fn.glob(install_path)) > 0 then
  fn.system({'git', 'clone', 'https://github.com/wbthomason/packer.nvim', install_path})
  vim.cmd 'packeradd packer.nvim'
end

local packer_exists = pcall(vim.cmd, [[packeradd packer.nvim]])

g.closetag_filenames = '*.html, *.xml, *.jsx, *.tsx, *.xhtml'

g.closetag_xhtml_filetypes ='tsx,jsx,xhtml'

g.closetag_regions = {
  ['typescript.tsx']= 'jsxRegion,tsxRegion',
  ['javascript.jsx']= 'jsxRegion',
  ['typescriptreact']= 'jsxRegion,tsxRegion',
  ['javascriptreact']= 'jsxRegion',
}

g.coc_global_extensions ={ 
  "coc-deno",
  "coc-tsserver",
  "coc-css",
  "coc-sh",
  "coc-html",
  "coc-json",
  "coc-rust-analyzer",
  "coc-cmake",
  "coc-git",
  "coc-pyright"
}

-- Packer setup
return require('packer').startup(
  function()
    use {'wbthomason/packer.nvim', opt=true}

    --devicons
    use {'kyazdani42/nvim-web-devicons'}

    -- fzf
    use {'junegunn/fzf', dir='~/.fzf', run='./install --all'}
    use {'junegunn/fzf.vim'}

    -- limelight
    use {'junegunn/limelight.vim'}

    -- easy align
    use {'junegunn/vim-easy-align'}

    -- deoplete
    -- use {'Shougo/deoplete.nvim', run=':UpdateRemotePlugins'}

    -- Auto comment
    use {'KarimElghamry/vim-auto-comment'}

    -- autoclose
    use {'townk/vim-autoclose'}

    -- autoclose html
    use {'alvan/vim-closetag'}

    -- coc
    use {'neoclide/coc.nvim', branch = 'release'}

    -- cocfzf
    use {'antoinemadec/coc-fzf', branch = 'release'}

    -- gruvbox theme
    -- use {'morhetz/gruvbox'}

    -- nord theme
    use {'arcticicestudio/nord-vim'}

    -- suda
    use {'lambdalisue/suda.vim'}

    -- dockerfile
    use {'ekalinin/Dockerfile.vim'}

    -- emmet
    use {'mattn/emmet-vim'}

    -- galaxyline setup
    --use {
    --  'glepnir/galaxyline.nvim',
    --  branch = 'main',
    --  config = function()require'statusline'end,
    --  requires = {'kyazdani42/nvim-web-devicons', opt = true}
    --}
  end
)
